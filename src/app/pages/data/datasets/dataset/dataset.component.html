<brain-page [style]="style.BACKGROUND" [title]="(dataset && dataset.Name) || 'Loading...'">
    <div class="d_mc" *ngIf="dataset">
        <nb-card status="sucess">
            <nb-card-header class="d_mc_header">
                <div>{{dataset.Description || 'Add description'}}</div>
                <button nbButton (click)="openEditDialog()">Edit details</button>
            </nb-card-header>
            <nb-card-body>
                <section class="d_mc_d_info">
                    <div class="d_mc_d_info_item">
                        <span class="d_mc_d_prop">Source </span><span>: {{dataset.Source || 'Unknown'}}</span>
                    </div>
                </section>
                <section class="d_mc_s_resource" *ngIf="dataset.Source === 'FILE'">
                    <div class="d_mc_d_info_item">
                        <span class="d_mc_d_prop">Status
                        </span><span>: {{_get(dataset, ['UploadedDataset', 'Info', 'Status'], 'Unknown')}}</span>
                    </div>
                    <div class="d_mc_d_info_item">
                        <span class="d_mc_d_prop">Type
                        </span><span>: {{_get(dataset, ['UploadedDataset', 'Info', 'Type'], 'Unknown')}}</span>
                    </div>
                    <div class="d_mc_d_info_item">
                        <span class="d_mc_d_prop">Actions Required
                        </span><span>:
                            <button nbButton status="info" class="d_mc_d_btn"
                                (click)="validateFile(_get(dataset, ['UploadedDataset', 'Info', 'ID'], 0))">Validate
                                data</button>
                            <button nbButton status="warning" class="d_mc_d_btn"
                                (click)="openFileUploadModal(_get(dataset, ['UploadedDataset', 'Info', 'ID'], 0), _get(dataset, ['UploadedDataset', 'Info', 'Type']))">Update
                                file</button>
                        </span>
                    </div>
                </section>
            </nb-card-body>
        </nb-card>


        <div class="f_u_m {{reupload?'f_u_m--enabled':''}}" *ngIf="reupload">
            <i class="f_u_m_close fa fa-times" (click)="closeFileUploadModal()"></i>
            <div class="f_u_m_u">
                <brain-fileupload [action]="reuploadSource.URL" [acceptedFileTypes]="reuploadSource.acceptedFileTypes">
                </brain-fileupload>
            </div>
        </div>
    </div>
</brain-page>